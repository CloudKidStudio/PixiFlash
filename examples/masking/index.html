<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Pixi Flash Example - Masking</title>
		<meta name="description" content="">
		<meta name='viewport' content='width=device-width, initial-scale=1.0'>

		<!-- Required dependencies -->
		<script src="../../components/pixi.js/bin/pixi.js"></script>

		<!-- PIXI Flash dependencies -->
		<script src="../../dist/pixi-flash.js"></script>
		
		<!-- The Flash exported animation -->
		<script src="Masking.js"></script>

	</head>
	<body>
		<canvas id="stage" width="800" height="500"></canvas>
		<script>

			var renderer = new PIXI.autoDetectRenderer(800, 500, {
				view: document.getElementById("stage"),
				backgroundColor: 0xffffff,
				antialias: true
			});

			// Don't prevent default
			renderer.plugins.interaction.autoPreventDefault = false;

			// Root display object
			var stage = new PIXI.Container();

			// Load the atlas for the character
			var loader = new PIXI.loaders.Loader();

			// This atlas is created with TexturePacker from the 
			// output individual images from Flash publishing
			loader.add('Masking_graphics_', 'Masking_graphics_.bson');
			loader.once('complete', function(loader, resources)
			{
				stage.addChild(new lib.Masking());
			});
			loader.load();
			
			update();
			function update()
			{
				requestAnimationFrame(update);
				renderer.render(stage);
			}

		</script>
	</body>
</html>